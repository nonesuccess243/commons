<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Extra with jQuery UI Bootstrap</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description"
	content="A preview of the jQuery UI Bootstrap theme">
<meta name="author" content="Addy Osmani">

<!-- Le styles -->
<link href="assets/css/bootstrap.min.css" rel="stylesheet">
<link type="text/css"
	href="css/custom-theme/jquery-ui-1.10.1.custom.css" rel="stylesheet" />
<link type="text/css" href="assets/css/font-awesome.min.css"
	rel="stylesheet" />
<!--[if IE 7]>
    <link rel="stylesheet" href="assets/css/font-awesome-ie7.min.css">
    <![endif]-->
<!--[if lt IE 9]>
    <link rel="stylesheet" type="text/css" href="css/custom-theme/jquery.ui.1.10.1.ie.css"/>
    <![endif]-->
<!--begin file input-->
<link href="third-party/jQuery-UI-FileInput/css/enhanced.css"
	rel="Stylesheet">
<!--End file input-->
<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- jqGrid-->
<link rel="stylesheet"
	href="third-party/jqGrid/jqGrid/css/ui.jqgrid.css" />
<link rel="stylesheet" href="third-party/jqGrid/jqGrid.overrides.css">
<!-- end jqGrid -->

<!-- Placed at the end of the document so the pages load faster -->
<script src="assets/js/jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="assets/js/holder.js"></script>
<script src="assets/js/jquery-ui-1.10.1.custom.min.js"
	type="text/javascript"></script>
<!-- FileInput -->
<script src="third-party/jQuery-UI-FileInput/js/enhance.min.js"
	type="text/javascript"></script>
<script src="third-party/jQuery-UI-FileInput/js/fileinput.jquery.js"
	type="text/javascript"></script>
<!-- End FileInput -->
<!--jqGrid-->
<script src="third-party/jqGrid/jqGrid/js/i18n/grid.locale-cn.js"></script>
<script src="third-party/jqGrid/jqGrid/js/jquery.jqGrid.src.js"></script>
<!--end jqGrid-->
<script type="text/javascript" src="assets/js/dbGrid-jq.js"></script>
<script type="text/javascript" defer="defer" src="marrcard_info_list.js"></script>

</head>

<body>
	<div class="container">
		<div class="row">
			<div class="span12" id="searchDiv">
				<form class="form-inline">
					妇女姓名：<input type="text" class="input-small" id="woman_name">
					妇女身份号码：<input type="text" id="woman_card_id"> 登记日期：从&nbsp;<input
						type="text" id="startDate" size="10" value=""
						class="datepicker input-small" />&nbsp;到&nbsp;<input type="text"
						size="10" id="endDate" value="" class="datepicker input-small" />
					<button id="search" class='btn btn-primary '
						style="vertical-align: top">查询</button>
				</form>

			</div>
			<div class="span12" id="btnDiv">
				<div class='btn-group'>
					<button class='btn btn-primary ' onclick="edit()" id="edit">
						<i class='icon-edit'></i> 编辑
					</button>
					<button class='btn ' id="delete" onclick="deleteInfo()">
						<i class='icon-trash'></i> 删除
					</button>
				</div>
			</div>
			<div class="span12">
				<table id="jqGrid01"></table>
				<div id="jqGridPager01"></div>
			</div>
		</div>
		<div class="row">
			<div class="field-group span12" data-title="列表说明">
				列表中只显示待调查的信息。登记日期是录入系统的日期。</div>
		</div>
	</div>
	<script type="text/javascript">
		$(function() {
			/*
			 * Extra
			 * */
			// File input (using http://filamentgroup.com/lab/jquery_custom_file_input_book_designing_with_progressive_enhancement/)
			// Split button (Font Awesome)
			//测试数据
			var mydata = [ {
				id : "1",
				invdate : "1",
				name : "1",
				note : "note2",
				tax : "1",
				total : "1"
			}, {
				id : "2",
				invdate : "1",
				name : "1",
				note : "note2",
				tax : "1",
				total : "1"
			}, {
				id : "5",
				invdate : "2007-10-05",
				name : "test2",
				note : "note2",
				tax : "20.00",
				total : "320.00"
			}, {
				id : "5",
				invdate : "2007-10-05",
				name : "test2",
				note : "note2",
				tax : "20.00",
				total : "320.00"
			}, {
				id : "5",
				invdate : "2007-10-05",
				name : "test2",
				note : "note2",
				tax : "20.00",
				total : "320.00"
			}, {
				id : "5",
				invdate : "2007-10-05",
				name : "test2",
				note : "note2",
				tax : "20.00",
				total : "320.00"
			}, {
				id : "5",
				invdate : "2007-10-05",
				name : "test2",
				note : "note2",
				tax : "20.00",
				total : "320.00"
			}, {
				id : "5",
				invdate : "2007-10-05",
				name : "test2",
				note : "note2",
				tax : "20.00",
				total : "320.00"
			} ];
			//重写jqGrid方法
			$("#jqGrid01").jqGd(
					{
						data : mydata,
						datatype : "local",
						width : 1170,
						height : 500,
						rownumbers : true,
						rowNum : 10,
						frozenColumns:true,
						rowList : [ 10, 20, 30 ],
						colNames : [ 'Inv No', 'Date', 'Client', 'Amount',
								'Tax', 'Total', 'Notes', "123" ],
						colModel : [ {
							name : 'id',
							index : 'id',
							width : 60,
							sorttype : "int",
							search : false
						}, {
							name : 'invdate',
							index : 'invdate',
							width : 90,
							sorttype : "date",
							formatter : "date",
							_frozen:true
						}, {
							name : 'name',
							index : 'name',
							width : 100
						}, {
							name : 'amount',
							index : 'amount',
							width : 80,
							align : "right",
							sorttype : "float",
							formatter : "number"
						}, {
							name : 'tax',
							index : 'tax',
							width : 80,
							align : "right",
							sorttype : "float"
						}, {
							name : 'total',
							index : 'total',
							width : 80,
							align : "right",
							sorttype : "float"
						}, {
							name : 'note',
							index : 'note',
							width : 150,
							sortable : false
						}, {
							name : '123',
							index : 'note',
							width : 150,
							sortable : false
						} ],
						hoverrows : true,
						altRows : true,
						hidegrid : false,
						pager : "#jqGridPager01",
						//后面的操作以及颜色设置
						simpleas : [ {
							text : "123",
							name : "test",
							width : "100",
							as : [ {
								handle : "alert",
								text : "[修改]",
								fColor : "style='color:red'"
							}, {
								handle : "alert",
								text : "[删除]",
								fColor : "style='color:yellow'"
							} ]
						} ]
					});
			//------------------------获取数据---------------------
			$("#edit").click(function() {
				//获得ID
				var idi = $("#jqGrid01").jqGrid('getGridParam', 'selrow');
				//用ID获得数据
				var rowDatas = $("#jqGrid01").jqGrid('getRowData', idi);
				var all = "";

				all += "id:" + rowDatas["id"];
				all += ",total:" + rowDatas["total"];
				all += ",tax:" + rowDatas["tax"];
				all += ",invadate:" + rowDatas["invdate"];
				all += ",name:" + rowDatas["name"];
				all += ",amount:" + rowDatas["amount"];
				all += ",note:" + rowDatas["note"];

				alert("数据为:" + all + idi);
				//-----------------------------------------------------
			})
		})
	</script>
	<script type="text/javascript">
		$(function() {
			$('#search').tooltip({
				title : "刷新下面列表功能暂未实现",
				placement : "right"
			});
			$('#edit').tooltip({
				title : "需要先选择一行数据",
				placement : "left"
			});
			$('#delete').tooltip({
				title : "需要先选择一行数据",
				placement : "right"
			});
		});
		function edit() {
			//window.location.href = '/newmarr/newmarr/input/input!search.action?id=1';
			//window.open('/newmarr/newmarr/input/input!search.action?id=1',null,"500px","230px");		
		}
		function deleteInfo() {
			window.location.href = '/newmarr/newmarr/input/input!delete.action?id=1';
			//window.open('/newmarr/newmarr/input/input!delete.action?id=1',null,"500px","230px");		
		}
	</script>
</body>
</html>